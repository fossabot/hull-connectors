<html>
  <head>
    <title>Hull</title>
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" href="/swal.css" />
  </head>
  <body>
    <div class="row">
      <div class="col-sm-12 col-md-offset-1 col-md-1">
        <div class="mb-1">
          <h1 class="mb-0 mt-05  text-center"><i class="icon icon-hull" style="font-size:64px;"></i></h1>
          <div class="mb-1 media ps-4 pb-1">
            <p class="center-block mb-1 text-center">
              Please be careful with this operation, they trigger large jobs to pull your data from Marketo that will take time.  This full fetch uses Marketo's Bulk Api which is subject to a 500mb per day export limit.  If your data's volume is greater than 500mb, it could take over a day to fully export.
            </p>
            <div class="center-block col-xs-12">
              <p class="center-block mb-1 text-center">
              </p>
              <div data-href="/leadFetchAll" class="center-block btn btn-rounded btn-pill btn-primary">Fetch All Leads</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>window.hullAuthCompleted = function authCompleted() { window.location.href = window.location.href.replace("&reset=true",""); };</script>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
    <script>
      jQuery(function($) {
        $("[data-href]").click(function() {
          var url = $(this).attr('data-href');

          var titleVar = "Fetch all Lead";
          var textVar = "You are going to fetch your Marketo Leads. This can take a lot of time and will generate a lot of traffic. Are you sure?";
          var followupVar = "Beginning Lead Fetch";

          swal({
            title: titleVar,
            text: textVar,
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Yes, fetch all!",
            closeOnConfirm: false
          }, function(isConfirm) {
            if (isConfirm) {
              $.post(url+window.location.search);
              swal("Fetching started", followupVar, "success");
            }
          });
        });
      });
    </script>

    <style type="text/css" media="screen">
      .check i.icon {
        color: rgba(75, 222, 122, 0.52);
        font-size: 2pc;
        position: relative;
        top: -11px;
        left: 3px;
      }
      .check.valid {
        border-color: rgba(75, 222, 122, 0.52);
      }
      .check {
        border-radius: 100px;
        border: 2px solid transparent;
        padding: 0 5px;
        height: 37px;
        width: 37px;
        position: relative;
      }
    </style>
  </body>
  </html>
